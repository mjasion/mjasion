{{ $title       :=  (index site.Data site.Language.Lang).site.openGraph.title | default site.Title }}
{{ $type        :=  (index site.Data site.Language.Lang).site.openGraph.type | default "website" }}
{{ $description :=  (index site.Data site.Language.Lang).site.openGraph.description | default  (index site.Data site.Language.Lang).site.description }}
{{ $image       :=  (index site.Data site.Language.Lang).site.openGraph.image | default  (index site.Data site.Language.Lang).author.image }}
{{ $url         :=  (index site.Data site.Language.Lang).site.openGraph.url | default site.BaseURL }}

{{/* Use page-level overrides when available */}}
{{ if .IsPage }}
  {{ with .Title }}{{ $title = . }}{{ end }}
  {{ with .Description }}{{ $description = . }}{{ end }}
  {{ $url = .Permalink }}
{{ end }}

<!-- Open Graph -->
<meta property="og:title" content="{{ $title }}"/>
<meta property="og:type" content="{{ $type }}"/>
<meta property="og:description" content="{{ $description }}"/>
<meta property="og:image" content="{{ $image | absURL }}">
<meta property="og:url" content="{{ $url }}">
<meta property="og:site_name" content="{{ site.Title }}">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{{ $title }}">
<meta name="twitter:description" content="{{ $description }}">
<meta name="twitter:image" content="{{ $image | absURL }}">

<!-- Canonical URL -->
{{ if .IsPage }}
<link rel="canonical" href="{{ .Permalink }}">
{{ else }}
<link rel="canonical" href="{{ $url }}">
{{ end }}
